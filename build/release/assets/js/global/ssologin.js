"use strict";function _typeof(e){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}!function(){var d={hasClass:function(e,t){return e.className.match(new RegExp("(\\s|^)"+t+"(\\s|$)"))},removeClass:function(e,t){if(this.hasClass(e,t)){var n=new RegExp("(\\s|^)"+t+"(\\s|$)");e.className=e.className.replace(n," ")}},addClass:function(e,t){this.hasClass(e,t)||(e.className+=" "+t)},toggleClass:function(e,t){this.hasClass(e,t)?this.removeClass(e,t):this.addClass(e,t)},remove:function(e){var t=document.getElementById(e);t&&t.parentNode.removeChild(t)},appendHTML:function(e,t){var n=document.createElement("div"),o=document.createDocumentFragment();n.innerHTML=t,cnodes=n.childNodes;for(var s=0,a=cnodes.length;s<a;s++)o.appendChild(cnodes[s].cloneNode(!0));e.appendChild(o),o=null},getByClass:function(e){var t=[];if(document.getElementsByClassName)t=document.getElementsByClassName(e);else for(var n=document.getElementsByTagName("*"),o=0;o<n.length;o++)n[o].className==e&&t.push(n[o]);return t},showTip:function(e){var t=(e=e||{}).container,n=e.text,o=e.status,s=e.time;if(t){var a={};s=s||2500;for(var i=this.getByClass("dynamic-text-tip"),r=0;r<i.length;r++)"dynamic-text-tip"==i[r].className&&(i[r].innerText="");clearTimeout(a.timmer),"success"==o?t.style.color="#0165b5":"error"==o&&(t.style.color="red"),d.addClass(t,"dynamic-text-tip-animation"),t.innerText=n,a.timmer=setTimeout(function(){d.removeClass(t,"dynamic-text-tip-animation")},s)}},trim:function(e){return e.replace(/(^\s*)|(\s*$)/g,"")},getParameter:function(e){var t=new RegExp("[&,?]"+e+"=([^\\&]*)","i").exec(location.search);return t?t[1]:""},hideDoms:function(e){for(var t=0,n=e.length;t<n;t++)e[t].style.display="none"},createloading:function(e){if(e){e=e;var t='<div id="default-loading"><div class="mask3"></div><div class="new-loading"><div class="loading-icon"><div class="loading-circle"></div><div class="loading-font">TK</div></div></div></div>';d.appendHTML(e,t),e.innerHTML=t}},getName:function(){return"dagd"},removeloading:function(){this.remove("default-loading")},ajax:function(e){var t=(e=e||{}).url,n=e.type&&e.type.toLowerCase()||"post",o=e.data||null,s=e.jsonp&&e.jsonp.toLowerCase(),a=e.dataType,i=e.success,r=e.error,d=e.timeout||2e4,c=document.getElementsByTagName("head")[0],l=0,u="",p="";if(null!==o)for(var m in o)m?(p+=m+"="+o[m]+"&",u+=1==++l?"?"+m+"="+o[m]:"&"+m+"="+o[m]):l=0;if("jsonp"===a){var f=document.createElement("script"),g="jsonp_"+(new Date).getTime();t+=u+(1<=l?"&"+s+"="+g:"?"+s+"="+g),f.setAttribute("src",t),c.appendChild(f),this.success=i,d&&(f.sto=setTimeout(function(){c.removeChild(f),clearTimeout(f.sto),window[g]=null,"function"==typeof r&&r("timeout")},d)),window[g]=function(e){c.removeChild(f),clearTimeout(f.sto),window[g]=null,"function"==typeof i&&i(e)}}else{var y;void 0!==("undefined"==typeof XMLHttpRequest?"undefined":_typeof(XMLHttpRequest))?y=new XMLHttpRequest:void 0!==("undefined"==typeof ActiveXObject?"undefined":_typeof(ActiveXObject))&&(y=new ActiveXObject),p="get"==n?(t+=u,null):p.substring(0,p.lastIndexOf("&")),y.open(n,t,!0),"post"==n&&y.setRequestHeader("Content-type","application/x-www-form-urlencoded"),y.setRequestHeader("X-Requested-With","XMLHttpRequest"),y.onreadystatechange=function(){if(4==y.readyState&&(200<=y.status&&y.status<300||304==y.status)){var e=y.responseText;"json"==a&&(e=JSON.parse(e),"function"==typeof i&&("499"==e.status?window.signin.login():i&&i(e)))}},y.ontimeout=function(){"function"==typeof r&&r("timeout")},y.send(p)}},regMap:{table:/\t/g,line:/\n/g,intOrFloat:/^(-)?\d+(\.\d+)?$/,MobileNo:/^1[34587]\d{9}$/,CardNo:/^\d{16,}$/,MobileCode:/^\d{6,}$/,OrderPassword:/^\S{6,16}$/,parseThousands:/(\d{1,3})(?=(\d{3})+(?:$|\.))/g,bankCardNo:/(\d{4})(?=\d)/g,moneyTest:/^(0|[1-9]\d*)(\.\d{1,2})?$/,parseToStarNumber:/^(\d{4})(\d+)(\d{4})$/,parseRightFourStar:/^(\w+)(\w{4})$/,parseDateFormat:/\b(\d{4})\b[^\d]+(\d{1,2})\b[^\d]+(\d{1,2})\b(\s(\d{1,2})\:(\d{1,2})\:(\d{1,2}))?[^\d]?/,userBirthdayStarRegex:/(\d{2})\d{2}([^\d]+)\d+([^\d]+)\d?(\d)([^\d]+)?/,moneyReplace:/[^0-9\.]/g,verifyEmail:/^([a-zA-Z0-9_\.\-])+\@(([a-zA-Z0-9\-])+\.)+([a-zA-Z0-9]{2,4})+$/,sfzNumber:/(^\d{15}$)|(^\d{18}$)|(^\d{17}(\d|X|x)$)/},msg:{info:function(e,t){d.tip(e,t,"info")},error:function(e,t){d.tip(e,t,"error")},warning:function(e,t){d.tip(e,t,"warning")},success:function(e,t){d.tip(e,t,"success")}},tip:function(e,t,n){var o={};n=n||"info",t=t||1200;var s=document.getElementById("_tips");if(!s){d.appendHTML(document.body,'<div id="_tips" style="z-index:9999;font-size:12px;position: fixed;left: 50%;top: 0px;border-radius: 5px;box-sizing: content-box;padding: 15px;background: transparent;color: #f2f2f2;box-shadow: 0 0 3px 1px rgba(0,0,0,0.2);-webkit-transition:all 0.3s;-webkit-transform: translate3d(0,-100%,0);"><p id="tip_text" style="font-size: 14px;color:#fff"></p></div>')}s=document.getElementById("_tips"),"info"==n?s.style.backgroundColor="#0078D7":"error"==n?s.style.backgroundColor="#d70018":"warning"==n&&(s.style.backgroundColor="#ECB100"),document.getElementById("tip_text").innerHTML=e,o.timmer&&(clearTimeout(o.timmer),o.timmer=null),s.style.webkitTransition="none",s.style.webkitTransform="translate3d(0px, 90%, 0px)",o.timmer=setTimeout(function(){s.style.webkitTransition="all 0.3s",s.style.webkitTransform="translate3d(0px, -100%, 0px)"},t)}},e=document.getElementById("loginStatus").getAttribute("data-login"),t=decodeURIComponent(d.getParameter("redirect"));0==e&&d.ajax({url:location.protocol+"//passport.skycreative.cn/account/Checkstate",dataType:"jsonp",jsonp:"callback",success:function(e){e.Status&&d.ajax({url:"/Account/Login",type:"post",data:{Token:e.Token},dataType:"json",success:function(e){e.Success?t?location.href=t:location.reload():d.msg.warning(e.Message)},error:function(){d.msg.error("网络异常，请稍候重试")}})}})}();